<!DOCTYPE html>
<html>
  <head>
    <title>The Exclusive Or – On academic, expatriate, and other unusual forms of life.</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="On academic, expatriate, and other unusual forms of life.">
    <meta property="og:description" content="On academic, expatriate, and other unusual forms of life." />
    
    <meta name="author" content="The Exclusive Or" />

    

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lora:normal,b,i,bi" rel="stylesheet">
    <script src="https://use.fontawesome.com/60beeb5aee.js" type="text/javascript"></script>

    <!-- Bootstrap -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="The Exclusive Or - On academic, expatriate, and other unusual forms of life." href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="/images/xor.png" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">The Exclusive Or</a></h1>
            <p class="site-description">On academic, expatriate, and other unusual forms of life.</p>
          </div>

          <nav>
            <a href="/archive">Archive</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <div class="posts">
  
  <div class="row">
    <div class="col-sm-8">
     
       <article class="post">

         <h1><a href="/2012/08/principles-of-research-code.html">Principles of Research Code</a></h1>

         <div class="author">
By Charles Sutton on August 16, 2012
</div>



         <div class="entry">
         <p>Ali Eslami has just writen a <a href="http://arkitus.com/PRML/">terrific page</a> on organizing your experimental code and output. I pretty much agree with everything he says. I’ve thought quite a bit about this and would like to add some background.
Programming for research is very different than programming for industry. There are several reasons for this, which I will call Principles of Research Code. These principles underly all of the advice in Ali’s post and in this post. These principles are:</p>

<ol>
  <li><strong>As a researcher, your product is not code. Your product is knowledge.</strong> Most of your research code you will completely forget once your paper is done.</li>
  <li><strong>Unless you hit it big.</strong> If your paper takes off, and lots of people read it, then people will start asking you for a copy of your code. You should give it to them, and best to be prepared for this in advance.</li>
  <li><strong>You need to be able to trust your results.</strong> You want to do enough testing that you do not, e.g., find a bug in your baselines after you publish. A small amount of paranoia comes in handy.</li>
  <li><strong>You need a custom set of tools.</strong> Do not be afraid to write infrastructure and scripts to help you run new experiments quickly. But don’t go overboard with this.</li>
  <li><strong>Reproducability.</strong> Ideally, your system should be set up so that five years from now, when someone asks you about Figure 3, you can immediately find the command line, experimental parameters, and code that you used to generate it.</li>
</ol>

<p>Principle 1 implies that the primary thing that you need to optimise for in research code is your own time. You want to generate as much knowledge as possible as quickly as possible. Sometimes being able to write fast code gives you a competitive advantage in research, because you can run on larger problems. But don’t spend time optimising unless you’re in a situation like this.
Also, I have some more practical suggestions to augment what Ali has said. These are</p>

<ol>
  <li><em>Version control:</em> Ali doesn’t mention this, probably because it is second nature to him, but you need to keep all of your experimental code under version control. To not do this is courting disaster. Good version control systems include SVN, git, or Mercurial, etc. I now use Mercurial, but it doesn’t really matter what you use. Always commit all of your code before you run an experiment. This way you can reproduce your experimental results by checking out the version of your code form the time that you ran an experiment.</li>
  <li><em>Random seeds:</em> Definitely take Ali’s advice to take the random seed as a parameter to your methods. Usually what I do is pick a large number of random seeds, save them to disk, and use them over and over again. Otherwise debugging is a nightmare.</li>
  <li><em>Parallel option sweeps:</em> It takes some effort to get set up on a cluster like ECDF, but if you invest this, you get some nice benefits like the ability to run a parameter sweep in parallel.</li>
  <li>
    <p><em>Directory trees:</em> It is good to have your working directory in a different part of the directory space from your code, because then you don’t get annoying messages from your version control system asking you why you haven’t committed your experimental results. So I end up with a directory structure like</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>~/hg/projects/loopy_crf/code/synth_experiment.py
    ~/results/loopy_crf/synth_experiment/dimensions_20_iterations_300
</code></pre>
    </div>

    <p>Notice how I match the directory names to help me remember what script generated the results.</p>
  </li>
  <li><em>Figures list.</em> The day after I submit a paper, I add enough information to my notebook to meet Principle 5. That is, for every figure in the paper, I make a note of which output directory and which data file contains the results that made that figure. Then for those output directories, I make sure to have a note of which script and options generated those results.</li>
  <li><em>Data preprocessing.</em> Lots of times we have some complicated steps to do data cleaning, feature extraction, etc. It’s good to save these intermediate results to disk. It’s also good to use a text format rather than binary, so that you can do a quick visual check for problems. One tip that I use to make sure I keep track of what data cleaning I do is to use Makefiles to run the data cleaning step. I have a different Makefile target for each intermediate result, which gives me instant documentation.</li>
</ol>

<p>If you want to read even more about this, I gave a guest lecture last year on a similar topic (<a href="http://homepages.inf.ed.ac.uk/csutton/talks/principles-rse/">slides</a>, <a href="http://podcast.is.ed.ac.uk:8080/Podcasts/inf_lectures/2011-09-29/Informatics_Research_Methodology__Charles_Sutton__27th_Septermber_2011-video.mp4">podcast</a>).</p>

         </div>

         
<div class="tags">
    Tags:
   
    <span class="tag"><a href="/tag/advice">advice</a></span>, 
   
    <span class="tag"><a href="/tag/popular">popular</a></span>
   
</div>



       </article>
	 
       <article class="post">

         <h1><a href="/2012/08/software-i-like.html">Software I Like</a></h1>

         <div class="author">
By Charles Sutton on August 12, 2012
</div>



         <div class="entry">
         <p>I’ve just made an update to my list of <a href="http://homepages.inf.ed.ac.uk/csutton/software.html">software I like</a> motivated by my experiences setting up a new computer.</p>

         </div>

         
<div class="tags">
    Tags:
   
    <span class="tag"><a href="/tag/software">software</a></span>
   
</div>



       </article>
	 
       <article class="post">

         <h1><a href="/2012/08/reflecting-on-new-computer.html">Reflecting on a New Computer</a></h1>

         <div class="author">
By Charles Sutton on August 11, 2012
</div>



         <div class="entry">
         <p>Presently I am still enjoying the honeymoon phase of my new laptop. To avoid the slightest appearance of ostentation, I will refrain from going into details of exactly what laptop I got, except to say that it is of course a Mac, and it’s REALLY REALLY cool!</p>

<p>Apple provides a Migration Assistant that apparently will copy all of your files and settings from your old computer, so that your new Mac looks exactly like your old one. My feeling about this is: Why would anyone want that? For me, one of the pleasures of a new computer is that it’s *clean*, unburdened with hundreds of files scattered around my home directory that I never use but are too important (or too numerous) to simply delete.</p>

<p>So for years, whenever I get a new computer, I never copy my files over en masse. Instead, I copy over a small set of files that I know I need, and leave the rest on a backup. Then the next day, I find that I need a file on the backup that I didn’t realize, go back and copy this over, etc.</p>

<p>This process stabilizes after a week or so, and my electronic life feels much less cluttered.</p>

<p>I suppose that I could just blow away my home directory every year for the same feeling, but somehow it is hard to convince myself to do this.</p>

<p>I wish that I could use the same process for physical papers, but sadly paper information cannot be stored as compactly as its electronic equivalent.</p>

<p>Super-Mac-Geek-Alert: For several years, I have been using <a href="http://www.macworld.com/article/1040403/workingmac.html">Keychain to store secure notes</a> such as password hints for bank logins, etc. I thought I was very clever to avoid impressive but costly tools like <a href="http://agilebits.com/onepassword">1Password</a>. Then I tried to copy the Keychain to my new computer. Painful. I think from now on I’ll keep these notes on a <a href="http://support.apple.com/kb/HT1578?viewlocale=en_US&amp;locale=en_US">small encrypted disk image</a>.</p>

         </div>

         
<div class="tags">
    Tags:
   
    <span class="tag"><a href="/tag/electronic%20minutae">electronic minutae</a></span>, 
   
    <span class="tag"><a href="/tag/geekery">geekery</a></span>
   
</div>



       </article>
	 
       <article class="post">

         <h1><a href="/2012/08/converting-fahrenheit-into-celsius.html">Converting Fahrenheit into Celsius... The Smart Way</a></h1>

         <div class="author">
By Charles Sutton on August  3, 2012
</div>



         <div class="entry">
         <p><em>or, from small beginnings…</em></p>

<p>One of the minor challenges of moving from the US to the UK is temperature. People in the UK always discuss the weather, and when they do, they use Celsius. My brain still works in Fahrenheit, so I need to convert typical daily outdoor temperatures in my head, and quickly enough that I can carry on a conversation.</p>

<p>You probably learned a formula in school for doing this. Completely useless. Forget all about it—but you already have, haven’t you? You might remember, if you’re clever, that the formula involves 9, 5, and 32 in some combination. But is it 9/5 or 5/9? Do you add 32, or do you subtract it? And do you do that before or after you multiply? And now people are wondering why you’ve been staring at them for two minutes when all they asked is how hot it was when you were in Seattle last week.</p>

<p>The problem is that the equation to convert C to F is too similar to the equation for the reverse, and both equations are too difficult to compute mentally. What we need is a simpler equation, that is easy to remember, and easy to work out quickly in your head.</p>

<p>So here’s the trick. You memorise the following correspondences:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 °C</td>
      <td>=</td>
      <td>32 °F</td>
    </tr>
    <tr>
      <td>10 °C</td>
      <td>=</td>
      <td>50 °F</td>
    </tr>
    <tr>
      <td>20 °C</td>
      <td>=</td>
      <td>68 °F</td>
    </tr>
    <tr>
      <td>30 °C</td>
      <td>=</td>
      <td>86 °F</td>
    </tr>
  </tbody>
</table>

<p>Then, to convert any temperature that is near these, approximate 1 °C = 2 °F. This will allow you to convert almost any naturally occurring outdoor temperature in the UK in either direction to within 1° accuracy.</p>

<p>Let’s try it. As I write the current temperature in Edinburgh is 14 °C. This is 10 °C plus 4° extra. From memory convert the 10 °C to 50 °F. Then convert 4 °C extra to 8 °F extra and add it back on. This gives you 14°C = 58°F. This is not exact, but close enough that you know to wear a jumper. The exact formula is</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  14 * 9 / 5 + 32 = 57 F
</code></pre>
</div>

<p>Good luck doing that in your head.</p>

<p>It tickles me that (maths alert) this is a piecewise linear approximation to a linear function. Mathematically, you would have to believe that a piecewise linear function would be more complicated, but mentally, it’s not. Maybe there’s a deep psychological principle here that scientists will figure out someday.</p>

<p>Until then, quite chilly today, isn’t it?</p>

         </div>

         
<div class="tags">
    Tags:
   
    <span class="tag"><a href="/tag/expat">expat</a></span>, 
   
    <span class="tag"><a href="/tag/popular">popular</a></span>
   
</div>



       </article>
	 

	 <!-- Pagination links -->
	 <div class="pagination">
	   

	   
	   <a href="/page9" class="newer">Newer Posts &rarr;</a>
	   
	 </div>
	 </div>

	 	 <div class="sidebar col-sm-4">
	   <p class="author_name">by <a href="http://homepages.inf.ed.ac.uk/csutton/">Charles Sutton</a></p>

	   <h1>Feeds</a></h1>

	   <ul>
	     <li><a href="feed.xml"><i class="fa fa-rss fa-sidebar" aria-hidden="true"></i> Subscribe via RSS</a></li>
	     <li><a href="https://twitter.com/RandomlyWalking"><i class="fa fa-twitter fa-sidebar" aria-hidden="true"></i> Follow on Twitter</a></li>
	     
	   </ul>
	   
	   <h1>Recent Posts</h1>

	   <ul>
	     
	     <li><a href="/2018/06/mafia.html">Social Skills in Context, or How being a Professor is Kind of Like Being a Mafia Hitman</a></li>
	     
	     <li><a href="/2018/05/freedom.html">Stress in Research. Part III&#58 The Trouble about Freedom</a></li>
	     
	     <li><a href="/2018/04/worth.html">Stress in Research. Part II&#58 Research Worth and Self-Worth</a></li>
	     
	     <li><a href="/2018/03/tournament-axe.html">Stress in Research. Part I&#58; The Tournament and the Axe</a></li>
	     
	     <li><a href="/2017/12/travel-professor.html">Travel a lot? Here's how to stay organized, like professors do</a></li>
	     
	   </ul>

	   <h1>Most Popular</h1>
	   <ul>
	     
	     <li><a href="/2014/02/a-suggestion-for-scotland.html">A Suggestion for Scotland</a></li>
	     
	     <li><a href="/2013/08/academic-ranks-in-us-and-uk.html">Academic ranks in the US and UK</a></li>
	     
	     <li><a href="/2013/04/jokes-in-lectures.html">Jokes in lectures</a></li>
	     
	     <li><a href="/2012/08/principles-of-research-code.html">Principles of Research Code</a></li>
	     
	     <li><a href="/2012/08/converting-fahrenheit-into-celsius.html">Converting Fahrenheit into Celsius... The Smart Way</a></li>
	     
	   </ul>

	   <h1>Topics</h1>
	   <ul>
	     
	     
	     
	     
	     
	     <li><a href="/tag/academic customs">academic customs</a> (4)</li>
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/advice">advice</a> (18)</li>
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/britain">britain</a> (5)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/coffee">coffee</a> (2)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/hobbies">hobbies</a> (3)</li>
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/how to think">how to think</a> (2)</li>
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/lecturing">lecturing</a> (3)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/modest proposals">modest proposals</a> (2)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/painfully extended metaphors">painfully extended metaphors</a> (2)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/productivity">productivity</a> (4)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/silly">silly</a> (4)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/stress in research">stress in research</a> (3)</li>
	     
	     
	     
	     
	     
	     
	     <li><a href="/tag/stupid brain tricks">stupid brain tricks</a> (2)</li>
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	     
	   </ul>

	   <h1 class="sidebar-offset">Motto</h1>

	   <p class="poem">
   A set o' dull, conceited hashes<br>
   Confuse their brains in college-classes!<br>
	   They gang in stirks, and come out asses<br>
	   Plain truth to speak; <br>
An' syne they think to climb Parnassus <br>
By dint o' Greek! 
	   </p>
	   <p class="poem-attribution">
	   Robert Burns, <a href="http://www.robertburns.org/works/61.shtml">Epistle To J. Lapraik, An Old Scottish Bard</a>
	   </p>

	 </div>


  </div>
</div>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
                <a href="/#contact"><i class="fa fa-envelope-open fa-navbar" aria-hidden="true"></i></a>
                <a href="https://twitter.com/RandomlyWalking"><i class="fa fa-twitter fa-navbar" aria-hidden="true"></i></a>
                <a href="http://scholar.google.co.uk/citations?user=hYtGXD0AAAAJ&amp;hl=en"><i class="fa fa-google fa-navbar" aria-hidden="true"></i></a>
                <a href="https://github.com/casutton/"><i class="fa fa-github fa-navbar" aria-hidden="true"></i></a>
	        <a href="/feed.xml"><i class="fa fa-rss fa-navbar"  aria-hidden="true"></i></a>
	</footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-99627066-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/page10/',
		  'title': ''
		});
	</script>
	<!-- End Google Analytics -->


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  </body>
</html>
